# 2주차. 인스타그램 클론코딩

## 인스타그램 서비스 분석
인스타그램은 사진 공유를 기반으로 하는 SNS 서비스입니다.  
사용자가 회원가입을 하면 프로필 사진과 소개를 등록하고, 다른 사람들과 팔로우/팔로잉 관계를 맺을 수 있습니다.  
또한, 사진 혹은 동영상을 글과 함께 개인 페이지에 포스팅하고 다른 이용자들과 '좋아요' 기능과 댓글을 이용하여 소통합니다.  
이 외에도, 인스트그램 내 메신저인 DM 기능과 검색 기능, 실시간으로 24시간 동안 게시글을 올리는  스토리 기능 등이 있습니다.  

이번 과제가 유저와 포스팅의 모델링에 중점을 두기에 이 두가지에 집중해보겠습니다.  
>###User
> * 이용자는 아이디와 비밀번호를 설정하여 회원가입을 진행합니다.
> * 이용자는 다음 정보를 프로필로 등록합니다
>   * 이름
>   * 사용자 이름 (중복 불가, 필수 입력)
>   * 웹사이트
>   * 소개
>   * 프로필 사진
> * 이용자는 다음 정보를 개인 정보로 등록할 수 있습니다.
>   * 이메일 주소
>   * 전화번호 (필수 입력)
>   * 성별(여성/남성/맞춤성별/밝히고싶지않음 : 필수선택)
>   * 생일
> * 이 외 기능 (게시물, 팔로우/팔로잉, DM 등) 은 전부 모델 매핑 형식이 더 효율적일 것이라 생각하여 다루지 않겠습니다.

>###Post
> * 게시물은 최근 순으로 앞에 배치됩니다.
> * 게시물에는 사진과 동영상이 최대 10개까지 등록됩니다.
> * 게시되는 사진의 비율(정사각형,원본)을 일괄 변경하거나 필터를 추가할 수 있습니다.
> * 게시물에는 텍스트로 된 내용이 들어가며 최대 2200자까지 입력됩니다.
> * 사진 당 최대 20명의 사람을 태그할 수 있습니다.
> * 게시물에 최대 30개의 해시태그를 설정할 수 있습니다.
> * 위치정보를 추가할 수 있습니다.
> * 다른 미디어 (Facebook, Twitter, Tumblr)에도 게시할 수 있습니다.
> * 댓글을 작성할 수 있으며 댓글 기능을 해제할 수 잇습니다.
> * 각 사진 및 영상마다 대체 텍스트를 입력할 수 있습니다.


 
<hr>

## 모델링
>![diagram](imgs/instagram_modeling.png)
> * User와 Profile을 OneToOne 확장하였습니다.
> * 사용자인 Profile이 올리는 게시글을 Post라는 모델로 1:N 연결하였습니다.
> * Post라는 게시글에 업로드 되는 사진과 영상을 Media 라는 모델로, 해시태그를 HashTag 라는 모델로  
>   1:N 연결하였습니다.
> * 사진과 영상인 Media의 각 instance에 PeopleTag를 달 수 있게 PeopleTag라는 모델과 1:N 연결하였습니다.
>
<hr>

## 모델링 결과
> 사용한 모델 : POST
> 
>![p1](imgs/p(1).png)
>![p2](imgs/p(2).png)
>![p3](imgs/p(3).png)
>![p4](imgs/p(4).png)
> POST 객체 3개 저장 : post1, post2, post3
>  
> 
>![p5](imgs/p(5).png)
> Queryset 조회
> 
>![p6](imgs/p(6).png)
> location 을 필터로 조회
> 
>![p7](imgs/p(7).png)
> comment_permission을 필터로 조회

<hr>

##배운 점
> *  filter 함수는 반환값이 리스트 형태인 QuerySet이므로 1개의 데이터만 조회하고 싶다면 get 함수를 쓰는 것이 좋다.
> * CharField와 TextField 같은 문자 기반의 필드들에서 null 사용을 피하는 것이 좋다.  
    null= True인 경우에 "no data"의 값이 NULL과 빈 문자열 두 가지가 가능하게 된다.  
    그러나 Django의 규칙은 NULL 대신  빈 문자를 사용하는 것이라 NULL은 불필요하다.
  
<hr>

##궁금한 점 (공부할 것)
> * ForeignKey 와 같은 관계가 많으면 안 좋은 모델링인지
> * 모델에 속하는 인스턴스?의 갯수를 제한할 수 있는지
> * Validator